{# View Alimento. Esta view contiene la alta baja y modificacion. #}
{% extends "backend_layout.php"  %}
{% block content %}
<div id ="content">
            <form action="{{server}}/alimentos/edit" method="POST">
                <div class="conj-block">
                    <label for="radio" style="display: block">Seleccione opcion</label>
                    <input type="radio" name="habilitar-alimento" id="radio" value="yes">Agregar Alimento<br>
                    <input type="radio" name="habilitar-alimento" id="radio" checked value="no">Utilizar existente
                    <div id="select-alimento">
                    <input id="hidden-actualcode" type="hidden" value="{{detalle.alimento_codigo}}">
                    <label for="tipo" style = "display : block">Tipo: </label>
                    <select id="tipo-alimento" value="">
                        {% for ali in alimentos %}
                        <option value="{{ ali.codigo }}" id="option-{{ali.codigo}}}" > {{ ali.codigo }}</option>
                        {% endfor %}
                    </select>
                    </div>
                    <div hidden id="agregar-alimento">
                        <label for="input_alimento" style="display: block" >Nombre de Alimento</label><input id="alimento_codigo" type="text" name="alimento_codigo">
                        <label for="input_descripcion" style="display: block">Descripcion de Alimento</label><input name="descripcion" id="descripcion">
                    </div>
                    <label for="expiration" style = "display : block" >Fecha de Vencimiento: </label><input id="expiration" name="fecha_vencimiento" value="{{detalle.fecha_vencimiento}}" type="text" >
                    <label for="content" style = "display : block">Contenido: </label><input id="content-food" type="text" name="contenido" value="{{detalle.contenido}}">
                    <input id='flag' name='flag' type="hidden" value=0>
                </div>
                <div class="conj-block">

                    <label for="weight" style = "display : block">Peso: </label><input value={{detalle.peso}}id="weight" type="number" name="peso_unitario">
                    <label for="stock" style = "display : block">Stock: </label><input id="stock" value="{{detalle.stock}}" type="number" name="stock">
                    <label for="reserve" style = "display : block">Reservado: </label><input value="{{detalle.reservado}}"id="reserve" type="number" name="reservado">
                </div>
                <button type="submit"> Enviar </button>
            </form>
</div>
{% endblock %}
{% block scripts %}
<script type="text/javascript" src="{{server}}js/plugins/jquery-2.1.2.js">
{#$(document).ready(function () {
    var alimento_codigo = $("#hidden-actualcode").val();
    $("#option-"+alimento_codigo).prop("selected", true);
    $('#expiration').datepicker();
    $('input:radio[name="habilitar-alimento"]').click(function () {
        if ($('input[name="habilitar-alimento"]:checked').val() === 'yes') {
            $("#agregar-alimento").show();
            $("#select-alimento").hide();
            $("#flag").val(1); // setea en verdadero para pasar al controlador
        }
        else {
            $("#flag").val(0); // setea en falso para pasar al controlador.
            $("#agregar-alimento").hide();
            $("#select-alimento").show();
        }
    });
});#}
</script>
{% endblock %}